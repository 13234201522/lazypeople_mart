(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-baiduMap-index-index"],{2247:function(e,t,n){"use strict";var o;n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{},[n("gmap-map",{staticStyle:{width:"100%",height:"100vh"},attrs:{center:e.centers,id:"map"},on:{idle:function(t){arguments[0]=t=e.$handleEvent(t),e.handler.apply(void 0,arguments)}}})],1)},i=[]},"55ef":function(e,t,n){"use strict";var o=n("4ea4");n("a4d3"),n("e01a"),n("99af"),n("d81d"),n("a9e3"),n("acd8"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n("5530")),i=o(n("ade3")),r={data:function(){return{lat:"",lng:"",centers:{lat:0,lng:0},markers:[{position:{lat:39.90419989999999,lng:116.4073963}}],place:null,zoom:16,type:""}},onLoad:function(e){this.type=e.type},description:"Autocomplete Example (#164)",mounted:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.onSuccess,this.onError):alert("当前环境不支持地理位置服务")},methods:{geocodeLatLng:function(e,t,n){var o=this,a=parseFloat(this.centers.lat),i=parseFloat(this.centers.lng);new google.maps.LatLng(a,i);(new google.maps.Geocoder).geocode({location:this.centers},(function(e,t){"OK"===t?(console.log(e,"地址数组"),e.map((function(e,t){console.log(e,"地址信息子项"),e.types.map((function(t,n){"administrative_area_level_1"==t||"political"==t?(uni.setStorageSync("pname",e.address_components[0].long_name),uni.setStorageSync("pid",e.place_id)):"administrative_area_level_2"!=t&&"political"!=t||(uni.setStorageSync("cname",e.address_components[0].long_name),uni.setStorageSync("cid",e.place_id),uni.setStorageSync("addressName",e.formatted_address))}))})),setTimeout((function(){"index"==o.type?uni.switchTab({url:"../../index/index"}):uni.navigateBack({delta:1})}),1e3)):window.alert("Geocoder failed due to: "+t)}))},addMarker:function(){},handler:function(){var e=this,t=(0,i.default)({zoom:this.zoom,center:this.centers,mapTypeId:"roadmap",zoomControl:!1,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1,gestureHandling:"greedy"},"zoomControl",!1),n=new google.maps.Map(document.getElementById("map"),(0,a.default)({},t)),o=new google.maps.Marker({position:this.centers,map:n}),r=new google.maps.InfoWindow({content:"您的位置"});n.addListener("click",(function(n){console.log("点击地图",n),e.centers=n.latLng;var i=new google.maps.Map(document.getElementById("map"),(0,a.default)({},t));e.geocodeLatLng(),r.open(i,o)})),n.addListener("zoom_changed",(function(){e.zoom=n.getZoom(),console.log("获取当前缩放比例",n.getZoom())}))},getAreaName:function(){console.log(this.lng,this.lat);var e=new XMLHttpRequest;e.open("get","https://maps.googleapis.com/maps/api/geocode/json?language=zh-CN&latlng=".concat(this.centers.lat,",").concat(this.centers.lng,"&key=AIzaSyBhYuu1H_BcD6hIJiIPZ5Y05K0oY63WHtw")),e.send(),e.onreadystatechange=function(){if(4==e.readyState&&200==e.status){var t=JSON.parse(e.responseText);console.log(t,"逆解析之后的地址对象")}}},onSuccess:function(e){console.log(e,this,"位置信息"),this.centers.lat=Number(e.coords.latitude),this.centers.lng=Number(e.coords.longitude)},onError:function(e){switch(e.code){case e.PERMISSION_DENIED:alert("您拒绝对获取地理位置的请求");break;case e.POSITION_UNAVAILABLE:alert("位置信息是不可用的");break;case e.TIMEOUT:alert("请求您的地理位置超时");break;case e.UNKNOWN_ERROR:alert("未知错误");break}},setPlace:function(e){this.place=e},setDescription:function(e){this.description=e},usePlace:function(e){if(this.place){var t={lat:this.place.geometry.location.lat(),lng:this.place.geometry.location.lng()};this.center=t,this.markers[0].position=t,this.place=null}},updateMaker:function(e){console.log("updateMaker",e.latLng.lat()),this.markers[0].position={lat:e.latLng.lat(),lng:e.latLng.lng()}}}};t.default=r},ec07:function(e,t,n){"use strict";n.r(t);var o=n("2247"),a=n("f6b3");for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);var r,s=n("f0c5"),c=Object(s["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],r);t["default"]=c.exports},f6b3:function(e,t,n){"use strict";n.r(t);var o=n("55ef"),a=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t["default"]=a.a}}]);